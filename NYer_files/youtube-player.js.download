import{s as c,p as y,c as h,L as b,i as d,h as o}from"./assets/i18nService.91a6c59c.js";const g=`:host{display:block}.youtube-player{position:relative;width:100%;height:100%;padding-top:56.25%}.youtube-player iframe{width:100%;height:100%;position:absolute;top:0;left:0}.youtube-player .play-button-control{height:3rem;width:3rem;padding:.5rem 0 0 .5rem;fill:#fff;cursor:pointer}.youtube-player .controls{display:flex;background:#ddd;height:2.8rem}.youtube-player .progress-bar-container{width:100%;display:block}.youtube-player .progress-bar-container .progress-bar{width:97%}.youtube-player .progress-bar-container div.progress-bar{position:relative;display:block;background-color:#ccc;box-shadow:.25rem .25rem .25rem inset #00000080;height:.25rem;cursor:pointer;margin-left:1%;top:1.3rem;pointer-events:none}.youtube-player .progress-bar-container div.progress-bar>div{height:.25rem;background:white;transition:all .1s linear}.youtube-player .progress-bar-container input.progress-bar{cursor:pointer;margin-top:.8rem;margin-left:1%;-webkit-appearance:none;appearance:none;background:transparent}.youtube-player .progress-bar-container input.progress-bar:focus{outline:none}.youtube-player .progress-bar-container input.progress-bar::-ms-track{width:100%;cursor:pointer;background:transparent;border-color:transparent;color:transparent}.youtube-player .progress-bar-container input.progress-bar::-webkit-slider-thumb{-webkit-appearance:none;height:1.25rem;width:1rem;cursor:pointer;margin-top:-.25rem;box-shadow:none}.youtube-player .progress-bar-container input.progress-bar::-moz-range-thumb{-webkit-appearance:none;border:none;height:1rem;width:.25rem;cursor:pointer;box-shadow:none;background:transparent}.youtube-player .progress-bar-container input.progress-bar::-webkit-slider-runnable-track{width:100%;height:.625rem;cursor:pointer;background:transparent}.youtube-player .progress-bar-container input.progress-bar:focus::-webkit-slider-runnable-track{background:transparent}.youtube-player .progress-bar-container input.progress-bar::-moz-range-track{width:100%;height:.625rem;cursor:pointer;background:transparent}.youtube-player .progress-bar-container input.progress-bar:focus::-moz-range-track{outline:none}.youtube-player .progress-bar-container input.progress-bar::-ms-track{width:100%;height:.625rem;cursor:pointer;background:transparent;color:transparent}.youtube-player .progress-bar-container input.progress-bar::-ms-fill-lower{background:transparent}.youtube-player .progress-bar-container input.progress-bar:focus::-ms-fill-lower{background:transparent}.youtube-player .progress-bar-container input.progress-bar::-ms-fill-upper{background:transparent}.youtube-player .progress-bar-container input.progress-bar:focus::-ms-fill-upper{background:transparent}
`;var m=Object.defineProperty,f=Object.getOwnPropertyDescriptor,s=(r,a,n,i)=>{for(var e=i>1?void 0:i?f(a,n):a,p=r.length-1,l;p>=0;p--)(l=r[p])&&(e=(i?l(a,n,e):l(e))||e);return i&&e&&m(a,n,e),e};const u={PLAY:"M11,10 L17,10 17,26 11,26 M20,10 L26,10 26,26 20,26",PAUSE:"M11,10 L18,13.74 18,22.28 11,26 M18,13.74 L26,18 26,18 18,22.28",REPLAY:"M 16.144531 11.222656 C 15.566406 14.089844 13.023438 16.171875 10.097656 16.171875 C 6.695312 16.171875 3.925781 13.402344 3.925781 9.996094 C 3.925781 6.59375 6.691406 3.824219 10.097656 3.824219 C 11.71875 3.824219 13.253906 4.480469 14.402344 5.597656 L 12.496094 7.523438 L 18.773438 7.523438 L 18.773438 1.21875 L 17.042969 2.945312 C 15.195312 1.128906 12.71875 0.101562 10.101562 0.101562 C 4.640625 0.101562 0.199219 4.542969 0.199219 9.996094 C 0.199219 15.457031 4.640625 19.894531 10.097656 19.894531 C 14.792969 19.898438 18.875 16.558594 19.800781 11.960938 Z M 16.144531 11.222656"};let t=class extends b{constructor(){super(),this.url="",this.customControl=!1,this.progress=0,this.playerState=-1,this.i18nInitialized=!1,this.playerId="embed-player"+this.guid(),this.initPlayer=this.initPlayer.bind(this),this.updateProgressBar=this.updateProgressBar.bind(this)}async connectedCallback(){super.connectedCallback(),await d.initTranslations(),this.i18nInitialized=!0,this.loadPlayer()}render(){if(!!this.i18nInitialized)return o`
      <style>${g}</style>
      <div class="youtube-player">
        ${this.renderPlayer()}
      </div>
    `}loadPlayer(){const r=document.createElement("script");r.src="https://www.youtube.com/iframe_api",this.renderRoot.appendChild(r),window.onYouTubeIframeAPIReady=this.initPlayer}initPlayer(){new YT.Player(this.playerId,{events:{onStateChange:r=>{this.playerState=r.data,r.data==YT.PlayerState.PLAYING?this.interval=setInterval(this.updateProgressBar,300):clearInterval(this.interval)},onReady:r=>{this.player=r.target,this.player.stopVideo(),this.player.playVideo()}}})}renderPlayer(){return this.customControl?o`
        <iframe id="${this.playerId}" src="${this.url}&amp;controls=0&amp;enablejsapi=1&amp;html5=1"
                allow="autoplay; encrypted-media" allowFullScreen></iframe>
        <div class="controls">
          ${this.renderActionButton()}
          ${this.renderProgressBar()}
        </div>
      `:o`
      <iframe frameborder="0" src="${this.url}" allow="autoplay; encrypted-media" allowFullScreen></iframe>
    `}renderActionButton(){return o`
      <svg class="play-button-control"
           @click="${()=>this.handleVideoAction(this.playerState)}">
        <path d="${this.getIcon(this.playerState)}"/>
      </svg>
    `}renderProgressBar(){return o`
      <div class="progress-bar-container">
        <div class="progress-bar">
          <div class="progress-bar-inner" style="width: ${this.progress}%"/>
        </div>
      </div>
      <input type="range" min="0" class="progress-bar" max="100" id="progress-bar-${this.playerId}"
             value="${this.progress}" @change=${this.handleClick}/>
    `}handleVideoAction(r){!r||!this.player||(this.playerState===YT.PlayerState.PLAYING?(this.player.pauseVideo(),this.playerState=YT.PlayerState.PAUSED):this.playerState===YT.PlayerState.PAUSED?(this.player.playVideo(),this.playerState=YT.PlayerState.PLAYING):this.playerState===YT.PlayerState.ENDED&&(this.player.playVideo(),this.playerState=YT.PlayerState.PLAYING))}getIcon(r){return r===1?u.PLAY:r===0?u.REPLAY:u.PAUSE}handleClick(r){if(!this.player)return;const a=this.player.getDuration()*(r.target.valueAsNumber/100);this.player.seekTo(a,!0)}updateProgressBar(){!this.player||(this.progress=this.player.getCurrentTime()/this.player.getDuration()*100)}guid(){function r(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return r()+r()+"-"+r()+"-"+r()+"-"+r()+"-"+r()+r()+r()}};s([y()],t.prototype,"url",2);s([y()],t.prototype,"customControl",2);s([c()],t.prototype,"progress",2);s([c()],t.prototype,"playerState",2);s([c()],t.prototype,"i18nInitialized",2);t=s([h("youtube-player")],t);
//# sourceMappingURL=youtube-player.js.map
