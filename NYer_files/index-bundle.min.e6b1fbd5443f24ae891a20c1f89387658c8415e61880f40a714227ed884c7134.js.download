function getUrlParam(a,b){b||(b=window.location.href),a=a.replace(/[\[\]]/g,'\\$&');const d=new RegExp('[?&]'+a+'(=([^&#]*)|&|#|$)'),c=d.exec(b);return c?c[2]?decodeURIComponent(c[2].replace(/\+/g,' ')):'':null}function updateUrlParam(b,c){const a=new URL(window.location.href);return a.searchParams.set(b,c),a}function checkStripped(){const a=getUrlParam("stripped");a&&document.querySelector('body').classList.add("stripped")}checkStripped();function getCountryCodeFromUrl(){let c=window.location.href,b=c.substr(c.indexOf('newyorker.de/')+13).split('/'),a='';return b&&b.length>0&&(a=b[0],(!a||a===''||a.startsWith("host")||a.length>2)&&(a='')),a}function isLegacy(){return/Trident\/|MSIE\s|Edge/.test(window.navigator.userAgent)}function currentPath(a){const b=getCountryCodeFromUrl();return b?a==='/'?location.pathname==='/'+b+'/':location.pathname==='/'+b+a+'/':a==='/'?location.pathname==='/':location.pathname===a+'/'}function routeTo(a){const b=getCountryCodeFromUrl();return b?(a==='/'&&(location.href='/'+b+'/'),location.href='/'+b+a):(a==='/'&&(location.href='/'),location.href=a)}function rerouteLegacyBrowsers(){isLegacy()&&(currentPath('/')||currentPath('/men')||currentPath('/women'))&&routeTo('/legacy-browser')}function showBrowserAlert(){let a=document.querySelector('#legacy-browser');a&&isLegacy()&&(a.style.display='block')}const HIDE_THRESHOLD=window.innerHeight*.66,elements=document.querySelectorAll('.fashion-header .left-items .logo, .fashion-header .right-items');function hideHeaderOnScroll(a,b){(a||window.scrollY)>=(b||HIDE_THRESHOLD)?elements.forEach(function(a){a.classList.add('hide')}):elements.forEach(function(a){a.classList.remove('hide')})}const logo=document.querySelector('.header .left-items .logo');function hideLogo(){logo.classList.add('hide')}document.addEventListener('DOMContentLoaded',showBrowserAlert);const termsBox=document.getElementById("checkbox-terms-container");termsBox&&termsBox.addEventListener("click",handleClickEvent);const privacyBox=document.getElementById("checkbox-privacy-container");privacyBox&&privacyBox.addEventListener("click",handleClickEvent);function handleClickEvent(a){a.target.tagName!=="A"&&toggleChecked(a.currentTarget.getAttribute("data-of"))}function handleEmailChange(b){let a=document.getElementById("sign-up-button");validateEmail(b.value)?a.disabled=!1:a.disabled=!0}function handleSubmit(){document.getElementById('modal-sign-up-button').classList.add('is-loading');let f=document.getElementById("modal-email-input"),c=document.getElementById("modal-birthday-input"),a=document.getElementById("interest-female").checked,b=document.getElementById("interest-male").checked,d=document.getElementById("checkbox-terms").checked,g=c?flatpickr.parseDate(c.value):null,h={email:f.value,countryCode:NY_COUNTRY_SERVICE?NY_COUNTRY_SERVICE.getCountryCodeFromUrl():'',birthday:g,optInEmailAdvertisementConsent:d,optInEmailChannelNewsletter:d,optInEmailChannelWomensFashion:!!a||!a&&!b,optInEmailChannelMensFashion:!!b||!a&&!b};const e=NY_CUSTOMER_SERVICE;if(!e){console.error("[newsletter] could not find customer-service in NY_CUSTOMER_SERVICE.");return}e.subscribeForNewsletter(h).then(function(){document.getElementById("step-1").classList.toggle("toggle"),document.getElementById("step-2").classList.toggle("toggle"),document.getElementById('modal-sign-up-button').classList.remove('is-loading')})}function clearModal(){let b=document.getElementById("front-email-input"),c=document.getElementById("modal-email-input"),a=document.getElementById("modal-birthday-input"),d=document.getElementById("interest-female"),e=document.getElementById("interest-male"),f=document.getElementById("checkbox-terms");if(document.getElementById("checkbox-privacy")){let a=document.getElementById("checkbox-terms");a.checked=!0}let g=document.getElementById("step-1"),h=document.getElementById("step-2"),i=document.getElementById("modal-sign-up-button");c.value=b.value,d.checked=!1,e.checked=!1,f.checked=!1,g.classList.remove("toggle"),h.classList.remove("toggle"),i.disabled=!0,a&&(a.value="")}function toggleChecked(b){let a=document.getElementById(b);switch(a.type){case"radio":a.checked?null:a.checked=!a.checked;break;case"checkbox":a.checked=!a.checked;break}validate()}function toggleModal(a){let b=document.getElementById("modal");if(b.classList.toggle("active"),b.classList.contains("active")){let a=document.getElementById("modal-email-input"),b=document.getElementById("front-email-input");a.value=b.value}else clearModal();a&&(window.location.href=a)}function validate(){let a=document.getElementById("modal-email-input").value,b=document.getElementById("checkbox-terms").checked,c=!document.getElementById("checkbox-privacy")||document.getElementById("checkbox-privacy").checked,d=document.getElementById("modal-sign-up-button");d.disabled=!(validateEmail(a)&&b&&c)}function validateEmail(a){return!!a.match(/\S+@\S+\.\S{2,}/g)}